{% extends "base.html" %}

{% block title %}Post{% endblock title %}
{% block content %}
    <h1>Posts</h1>
    {% for post in posts  %}
    
        <article style="margin-bottom:1.5rem; ">
            <h2>{{post.title}}| Posted on:{{post.created_at|timesince}} ago</h2>
            <p>{{post.body}}</p>
            <h4>Comments {{post.comments.all.count}}</h4>
            <ul>
                {% for c in post.comments.all  %}
                    <li><strong>{{c.author}}</strong> {{c.text}}| Commented {{c.created_at|timesince}} ago</li>
                {% empty %}
                    <li>No comments yet</li>
                {% endfor %}
            </ul>
        </article>
        <hr>
    
    {% endfor %}



{% endblock content %}